
<!-- Paso 1: Selección de equipo -->
<div *ngIf="step === 1">
  <h1>Cyberfoot MVP</h1>
  <div style="display: flex; gap: 2rem; justify-content: center; flex-wrap: wrap;">
    <div *ngFor="let team of teams; let i = index" style="border: 1px solid #ccc; border-radius: 8px; padding: 1rem; min-width: 220px; text-align: center; background: #f9f9f9;">
      <h2>{{ team.name }}</h2>
      <div style="font-size: 1.3rem; color: #1976d2; font-weight: bold; margin-bottom: 0.5rem;">Overall: {{ team.overall }}</div>
      <button (click)="selectTeam(i)" style="padding: 0.4rem 1.2rem; font-size: 1rem; border-radius: 6px; background: #388e3c; color: white; border: none; cursor: pointer; margin-top: 0.5rem;">Elegir</button>
    </div>
  </div>
</div>

<!-- Paso 2: Edición de plantilla y titulares -->

<div *ngIf="step === 2 && selectedTeamIndex !== null">
  <team-lineup
    *ngIf="showLineup"
    [team]="teams[selectedTeamIndex]"
    [attr.data-key]="showLineupKey"
    (lineupConfirmed)="onLineupConfirmed($event)">
  </team-lineup>
  <fixture-list
    [rounds]="rounds"
    [teams]="teams">
  </fixture-list>
  <standings-table
    [standings]="standings">
  </standings-table>
</div>

<!-- Paso 3: Fixture generado -->

<div *ngIf="step === 3 && rounds && rounds.length > 0">
  <fixture-round
    [round]="rounds[currentRoundIndex]"
    [teams]="teams"
    [roundIndex]="currentRoundIndex"
    [selectedStarters]="selectedStarters"
    (nextRound)="onNextRound()"
    (roundUpdated)="onRoundUpdated($event)"
  ></fixture-round>
</div>


<style>
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>

